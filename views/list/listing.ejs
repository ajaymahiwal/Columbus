<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ALL Listings</title>

    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lobster&family=Plus+Jakarta+Sans:ital,wght@0,300;0,400;1,300;1,400&display=swap"
      rel="stylesheet"
    />
    <%- include("../includes/head.ejs") %>

    <style>
      

      .btn {
        display: inline-block;
        background-color: blueviolet;
        padding: 0.7rem 2.5rem;
        font-size: 1.2rem;
        text-decoration: none;
        color: white;
        margin: 2rem 0;
      }

      .one-card {
        width: 30%;
        /* border: 2px solid red; */
        margin-bottom: 2rem;
        text-decoration: none !important;
      }
      
      .all-cards{
        padding-inline: 2rem;
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
      }
      .card {
        border: none;
        width: 100%;
      }

      @media(width<=1000px){
        .one-card{
            width: 47%;
        }
      }
      @media(width<=600px){
        .one-card{
            width: 100%;
        }
      }
      .card-img-top {
        border-radius: 1rem !important;
        width: 100%;
        height: 17rem;
        object-fit: cover !important;
      }
      .card-img-overlay {
        /* border: 2px solid red; */
        background-color: white;
        opacity: 0;
        /* height: 50%; */
      }
      .card-img-overlay:hover {
        opacity: 0.3;
      }
      .card-body {
        padding-left: 1.5rem;
        /* border: 2px solid blueviolet; */
      }
      .card-title {
        width: 100%;
      }
    </style>

  </head>

  <body>
    <%-include('../includes/navbar.ejs')%> <% if (successMsg &&
    successMsg.length){ %>
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      <%= successMsg %>
    </div>
    <% } %> <% if (errorMsg && errorMsg.length){ %>
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      <%= errorMsg %>
    </div>
    <% } %>
    <h1>All Places List</h1>

    <!-- <a href="/listings/new" class="btn">Create New Listing</a> -->

    <div class="all-cards">
      <% for( item of list ) { %>
      <a href="/listings/<%= item._id %>" class="one-card">
        <div class="card col">
          <img
            class="card-img-top"
            src="<%= item.image.url %>"
            alt="Card image cap"
          />
          <div class="card-img-overlay"></div>
        </div>
        <div class="card-body">
          <h5 class="card-title"><%= item.title %></h5>
          <p class="card-text">
            &#8377; <%= item.price.toLocaleString("en-IN") %> /night
          </p>
        </div>
      </a>
      <% } %>
    </div>
    <%- include('../includes/footer') %>

    <script
      src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
